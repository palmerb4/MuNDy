%YAML 1.1
---
part_hierarchy:
  - name: PARTICLES
    topology: ENTITY
    fields:
      - name: FORCE
        rank: ENTITY
        dimension: 3
        number_of_states: 1
        type: DOUBLE
      - name: COORDINATES
        rank: NODE
        dimension: 3
        number_of_states: 1
        type: DOUBLE
    sub_parts:
      - name: SPHERES
        topology: ENTITY
        fields:
          - name: RADIUS
            rank: ENTITY
            dimension: 1
            number_of_states: 1
            type: DOUBLE
        sub_parts:
          - name: COLORED_SPHERES
            topology: ENTITY
            fields:
            - name: COLOR
              rank: ENTITY
              dimension: 1
              number_of_states: 1
              type: INT
      - name: ELLIPSOIDS
        topology: ENTITY
        fields:
        - name: AXISLENGTH
            rank: ENTITY
            dimension: 3
            number_of_states: 1
            type: DOUBLE

methods:
  - name: RESOLVE_CONSTRAINTS
    resolve_constraints_technique:
      name: NONSMOOTH_LCP
      max_number_of_iterations: 10000
      residual_tolerance: 1e-5
  - name: TIME_INTEGRATION
    compatible_parts:
      - name: SPHERES
        kernels:
          time_integration_kernel: 
            name: NODE_EULER
      - name: ELLIPSOIDS
        kernels:
          time_integration_kernel: 
            name: NODE_EULER
  - name: COMPUTE_MOBILITY
    compatible_parts:
      - name: SPHERES
        kernels:
          time_integration_kernel: 
            name: INERTIAL
      - name: ELLIPSOIDS
        kernels:
          time_integration_kernel: 
            name: INERTIAL